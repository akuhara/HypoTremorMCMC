# Step 4. Select Good-quality Events

In the program, `hypo_tremor_select`, high-quality events are selected 
based on preliminary estimations of wave propagation speed (S-wave velocity; Vs) 
and attenuation strength (denoted as B). These estimations are obtained through regression analysis, 
with relative arrival times against distance for Vs and relative amplitudes against distance for B.

For this regression analysis, a source location must be assumed in advance. 
In this program, the source location is assumed to be directly beneath the station displaying 
the maximum relative amplitude. 
Users can specify the assumed source depth using the parameter _z_guess_. 
Additionally, users can define acceptable ranges for Vs and B to select high-quality events
_vs_min_, _vs_max_, _b_min_, and _b_max_.
To assess the reliability of the regression analysis, correlation coefficients are provided in an output file.

The following output files are generated by this program:

## regress.dat ##
This file contains the regression results for each event, with each row structured as follows:

* Column 1: Time segment ID
* Column 2: Vs in km/s
* Column 3: B
* Column 4: Intercept of the regression line in the time-distance plot
* Column 5: Intercept of the regression line in the amplitude-distance plot
* Column 6: Correlation coefficient for the time-distance regression
* Column 7: Correlation coefficient for the time-amplitude regression

## selected_win.dat
In this file, each row represents a time segment that meets the selection criteria and is formatted as follows:

Column 1: Time segment ID. Column 2: The start time of the time segment relative to the beginning of the entire dataset in seconds.

## Required Parameters

The following parameters must appear in the parameter file.

### n_procs
Number of processes for MPI parallel computation. This value must be equal to the one you specify in the command line. The purpose of this parameter is to prevent unintended number specified in the command line, which for some programs results in unintended results. 

### station_file 
Absolute or relative path to a file that lists station names, their position (X-Y-Z), and sensitivities of two horizontal components.

### z_guess
Assumed depth for tremor sources [km]

### vs_min  
Minimum S-wave velocity to be accepted [km/s]

### vs_max  
Maximum S-wave velocity to be accepted [km/s]

### b_min   
Minimum attenuation strength to be accepted

### b_max   
Maximum attenuation strength to be accepted
